
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.7">
    
    
      
        <title>Graphql error spec - The DGS Framework</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.19753c6b.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.196e0c26.min.css">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#the-graphqlerror-interface" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="The DGS Framework" class="md-header-nav__button md-logo" aria-label="The DGS Framework">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            The DGS Framework
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Graphql error spec
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="The DGS Framework" class="md-nav__button md-logo" aria-label="The DGS Framework">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    The DGS Framework
  </label>
  
    <div class="md-nav__source">
      
<a href="/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../getting-started/" class="md-nav__link">
      Getting Started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../query-execution-testing/" class="md-nav__link">
      Testing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../mutations/" class="md-nav__link">
      Mutations
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../generating-code-from-schema/" class="md-nav__link">
      Code Generation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../data-loaders/" class="md-nav__link">
      Async Data Fetching
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../error-handling/" class="md-nav__link">
      Error Handling
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8" >
    <label class="md-nav__link" for="nav-8">
      Advanced
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Advanced" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        <span class="md-nav__icon md-icon"></span>
        Advanced
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../java-client/" class="md-nav__link">
      Java GraphQL Client
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../customizing/" class="md-nav__link">
      Custom Extensions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../security/" class="md-nav__link">
      Security
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../file-uploads/" class="md-nav__link">
      File Uploads
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../subscriptions/" class="md-nav__link">
      Subscriptions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../type-resolvers-for-abstract-types/" class="md-nav__link">
      Type Resolvers for Abstract Types
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../custom-datafetcher-context/" class="md-nav__link">
      Data Fetching Context
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../federated-testing/" class="md-nav__link">
      Federated Testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../schema-from-code/" class="md-nav__link">
      Generating Schema from Code
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-graphqlerror-interface" class="md-nav__link">
    The GraphQLError Interface
  </a>
  
    <nav class="md-nav" aria-label="The GraphQLError Interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-typederror-interface" class="md-nav__link">
    The TypedError Interface
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-errortype-enumeration" class="md-nav__link">
    The ErrorType Enumeration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="/edit/advanced/graphql-error-spec.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  <h1>Graphql error spec</h1>
                
                <p>There are two families of errors we typically encounter for GraphQL:</p>
<ol>
<li><strong>Comprehensive Errors.</strong>
    These are unexpected errors and do not represent a condition that the end user can be expected to fix.
    Errors of this sort are generally applicable to many types and fields.
    Such errors appear in the <code>errors</code> array in the GraphQL response.</li>
<li><strong>Errors as Data.</strong>
    These are errors that are informative to the end user (for example: “this title is not available in your country” or “your account has been suspended”).
    Errors of this sort are typically specific to a particular use case and apply only to certain fields or to a certain subset of fields.
    These errors are part of the GraphQL schema.</li>
</ol>
<h2 id="the-graphqlerror-interface">The GraphQLError Interface</h2>
<p>The GraphQL specification provides minimal guidance on the structure of an error.
The only required field is a <code>message</code> String, which has no defined format.
In Studio Edge we would like to have a stronger, more expressive contract.
Here is the definition we are using:</p>
<table>
<thead>
<tr>
<th><strong>field</strong></th>
<th><strong>type</strong></th>
<th><strong>description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>message</code> (non-nullable)</td>
<td><code>String!</code></td>
<td>a string description of the error intended for the developer as a guide to understand and correct the error</td>
</tr>
<tr>
<td><code>locations</code></td>
<td><code>[Location]</code></td>
<td>an array of code locations, where each location is a map with the keys <code>line</code> and <code>column</code>, both natural numbers starting from 1 that describe the beginning of an associated syntax element</td>
</tr>
<tr>
<td><code>path</code></td>
<td><code>[String | Int]</code></td>
<td>if the error is associated with one or more particular fields in the response, this field of the error details the paths of those response fields that experienced the error (this allows clients to identify whether a <code>null</code> result is intentional or caused by a runtime error)</td>
</tr>
<tr>
<td><code>extensions</code></td>
<td><code>[TypedError]</code></td>
<td><a href="#the-typederror-interface">see “The TypedError Interface” below</a></td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code>&quot;&quot;&quot;
Error format as defined in GraphQL Spec
&quot;&quot;&quot;
interface GraphQLError {
    message: String! // Required by GraphQL Spec
    locations: [Location] // See GraphQL Spec
    path: [String | Int] // See GraphQL Spec
    extensions: TypedError
}
</code></pre></div>
<p>See <a href="http://spec.graphql.org/June2018/#sec-Errors">the GraphQL specification: Errors</a> for more information.</p>
<h3 id="the-typederror-interface">The TypedError Interface</h3>
<p>Studio Edge defines <code>TypedError</code> as follows:</p>
<table>
<thead>
<tr>
<th><strong>field</strong></th>
<th><strong>type</strong></th>
<th><strong>description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>errorType</code> (non-nullable)</td>
<td><code>ErrorType!</code></td>
<td>an enumerated error code that is meant as a fairly coarse characterization of an error, sufficient for client-side branching logic</td>
</tr>
<tr>
<td><code>errorDetail</code></td>
<td><code>ErrorDetail</code></td>
<td>an enumeration that provides more detail about the error, including its specific cause (the elements of this enumeration are subject to change and are not documented here)</td>
</tr>
<tr>
<td><code>origin</code></td>
<td><code>String</code></td>
<td>the name of the source that issued the error (for instance the name of a backend service, [DGS], gateway, client library, or client app)</td>
</tr>
<tr>
<td><code>debugInfo</code></td>
<td><code>DebugInfo</code></td>
<td>if the request included a flag indicating that it wanted debug information, this field contains that additional information (such as a stack trace or additional reporting from an upstream service)</td>
</tr>
<tr>
<td><code>debugUri</code></td>
<td><code>String</code></td>
<td>the URI of a page that contains additional information that may be helpful in debugging the error (this could be a generic page for errors of this sort, or a specific page about the particular error instance)</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code>interface TypedError {
    &quot;&quot;&quot;
    An error code from the ErrorType enumeration.
    An errorType is a fairly coarse characterization
    of an error that should be sufficient for client
    side branching logic.
    &quot;&quot;&quot;
    errorType: ErrorType!

    &quot;&quot;&quot;
    The ErrorDetail is an optional field which will
    provide more fine grained information on the error
    condition. This allows the ErrorType enumeration to
    be small and mostly static so that application branching
    logic can depend on it. The ErrorDetail provides a
    more specific cause for the error. This enumeration
    will be much larger and likely change/grow over time.
    &quot;&quot;&quot;
    errorDetail: ErrorDetail

    &quot;&quot;&quot;
    Indicates the source that issued the error. For example, could
    be a backend service name, a domain graph service name, or a
    gateway. In the case of client code throwing the error, this
    may be a client library name, or the client app name.
    &quot;&quot;&quot;
    origin: String

    &quot;&quot;&quot;
    Optionally provided based on request flag
    Could include e.g. stacktrace or info from
    upstream service
    &quot;&quot;&quot;
    debugInfo: DebugInfo

    &quot;&quot;&quot;
    Http URI to a page detailing additional
    information that could be used to debug
    the error. This information may be general
    to the class of error or specific to this
    particular instance of the error.
    &quot;&quot;&quot;
    debugUri: String
}
</code></pre></div>
<h3 id="the-errortype-enumeration">The ErrorType Enumeration</h3>
<p>The following table shows the available <code>ErrorType</code> <code>enum</code> values:</p>
<table>
<thead>
<tr>
<th><strong>type</strong></th>
<th><strong>description</strong></th>
<th><strong>HTTP analog</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>BAD_REQUEST</code></td>
<td>This indicates a problem with the request. Retrying the same request is not likely to succeed. An example would be a query or argument that cannot be deserialized.</td>
<td>400 Bad Request</td>
</tr>
<tr>
<td><code>FAILED_PRECONDITION</code></td>
<td>The operation was rejected because the system is not in a state required for the operation’s execution. For example, the directory to be deleted is non-empty, an <code>rmdir</code> operation is applied to a non-directory, etc. Use <code>UNAVAILABLE</code> instead if the client can retry just the failing call without waiting for the system state to be explicitly fixed.</td>
<td>400 Bad Request, or 500 Internal Server Error</td>
</tr>
<tr>
<td><code>INTERNAL</code></td>
<td>This indicates that an unexpected internal error was encountered: some invariants expected by the underlying system have been broken. This error code is reserved for serious errors.</td>
<td>500 Internal Server Error</td>
</tr>
<tr>
<td><code>NOT_FOUND</code></td>
<td>This could apply to a resource that has never existed (e.g. bad resource id), or a resource that no longer exists (e.g. cache expired). Note to server developers: if a request is denied for an entire class of users, such as gradual feature rollout or undocumented allowlist, <code>NOT_FOUND</code> may be used. If a request is denied for some users within a class of users, such as user-based access control, <code>PERMISSION_DENIED</code> must be used.</td>
<td>404 Not Found</td>
</tr>
<tr>
<td><code>PERMISSION_DENIED</code></td>
<td>This indicates that the requester does not have permission to execute the specified operation. <code>PERMISSION_DENIED</code> must not be used for rejections caused by exhausting some resource or quota. <code>PERMISSION_DENIED</code> must not be used if the caller cannot be identified (use <code>UNAUTHENTICATED</code> instead for those errors). This error does not imply that the request is valid or the requested entity exists or satisfies other pre-conditions.</td>
<td>403 Forbidden</td>
</tr>
<tr>
<td><code>UNAUTHENTICATED</code></td>
<td>This indicates that the request does not have valid authentication credentials but the route requires authentication.</td>
<td>401 Unauthorized</td>
</tr>
<tr>
<td><code>UNAVAILABLE</code></td>
<td>This indicates that the service is currently unavailable. This is most likely a transient condition, which can be corrected by retrying with a backoff.</td>
<td>503 Unavailable</td>
</tr>
<tr>
<td><code>UNKNOWN</code></td>
<td>This error may be returned, for example, when an error code received from another address space belongs to an error space that is not known in this address space. Errors raised by APIs that do not return enough error information may also be converted to this error. If a client sees an <code>errorType</code> that is not known to it, it will be interpreted as <code>UNKNOWN</code>. Unknown errors <em>must not</em> trigger any special behavior. They <em>may</em> be treated by an implementation as being equivalent to <code>INTERNAL</code>.</td>
<td>520 Unknown Error</td>
</tr>
</tbody>
</table>
<div style="padding: 15px; border: 1px solid transparent; border-color: transparent; margin-bottom: 20px; border-radius: 4px; color: #8a6d3b;; background-color: #fcf8e3; border-color: #faebcc;">
The HTTP analogs are only rough mappings that are given here to provide a quick conceptual explanation of the semantics of the error by showing their analogs in the HTTP specification.
</div>
<p>--8&lt;-- "docs/reference_links"</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.0ac82a11.min.js"></script>
      <script src="../../assets/javascripts/bundle.f81dfb4d.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="../../js/mermaid.min.js"></script>
      
    
  </body>
</html>