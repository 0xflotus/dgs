
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.7">
    
    
      
        <title>Federated Testing - The DGS Framework</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.19753c6b.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.196e0c26.min.css">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#testing-federated-queries-without-the-gateway" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="The DGS Framework" class="md-header-nav__button md-logo" aria-label="The DGS Framework">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            The DGS Framework
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Federated Testing
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="The DGS Framework" class="md-nav__button md-logo" aria-label="The DGS Framework">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    The DGS Framework
  </label>
  
    <div class="md-nav__source">
      
<a href="/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../getting-started/" class="md-nav__link">
      Getting Started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../query-execution-testing/" class="md-nav__link">
      Testing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../mutations/" class="md-nav__link">
      Mutations
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../generating-code-from-schema/" class="md-nav__link">
      Code Generation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../data-loaders/" class="md-nav__link">
      Async Data Fetching
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../error-handling/" class="md-nav__link">
      Error Handling
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8" checked>
    <label class="md-nav__link" for="nav-8">
      Advanced
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Advanced" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        <span class="md-nav__icon md-icon"></span>
        Advanced
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../java-client/" class="md-nav__link">
      Java GraphQL Client
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../customizing/" class="md-nav__link">
      Custom Extensions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../security/" class="md-nav__link">
      Security
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../file-uploads/" class="md-nav__link">
      File Uploads
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../subscriptions/" class="md-nav__link">
      Subscriptions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../type-resolvers-for-abstract-types/" class="md-nav__link">
      Type Resolvers for Abstract Types
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../custom-datafetcher-context/" class="md-nav__link">
      Data Fetching Context
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Federated Testing
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      Federated Testing
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#testing-federated-queries-without-the-gateway" class="md-nav__link">
    Testing Federated Queries without the Gateway
  </a>
  
    <nav class="md-nav" aria-label="Testing Federated Queries without the Gateway">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-the-entities-query-builder-api" class="md-nav__link">
    Using the Entities Query Builder API
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../schema-from-code/" class="md-nav__link">
      Generating Schema from Code
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#testing-federated-queries-without-the-gateway" class="md-nav__link">
    Testing Federated Queries without the Gateway
  </a>
  
    <nav class="md-nav" aria-label="Testing Federated Queries without the Gateway">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-the-entities-query-builder-api" class="md-nav__link">
    Using the Entities Query Builder API
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="/edit/advanced/federated-testing.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  <h1>Federated Testing</h1>
                
                <p><a href="https://www.apollographql.com/docs/federation/">Federation</a> allows you to extend or reference existing types in a graph. 
Your DGS fulfills a part of the query based on the schema that is owned by your DGS, while the gateway is responsible for fetching data from other DGSs. </p>
<h3 id="testing-federated-queries-without-the-gateway">Testing Federated Queries without the Gateway</h3>
<p>You can test federated queries for your DGS in isolation by replicating the format of the query that the gateway would send to your DGS. 
This does not involve the gateway, and thus the parts of the query response that your DGS is not responsible for will not be hydrated. 
This technique is useful if you want to verify that your DGS is able to return the appropriate data, in response to a federated query. </p>
<p>Let's look at an example of a schema that extends the <code>Movie</code> type that is already defined by another DGS.
<div class="highlight"><pre><span></span><code>type Movie @key(fields: &quot;movieId&quot;)  @extends {
    movieId: Int @external
    script: MovieScript
}

type MovieScript  {
    title: String
    director: String
    actors: [Actor]
}

type Actor {
    name: String
    gender: String
    age: Int
}
</code></pre></div>
Now you want to verify that your DGS is able to fulfill the Movie query by hydrating the <code>script</code> field based on the <code>movieId</code> field. 
Normally, the gateway would send an <a href="https://www.apollographql.com/docs/apollo-server/federation/federation-spec/#resolve-requests-for-entities">_entities</a> query in the following format:
<div class="highlight"><pre><span></span><code> <span class="n">query</span> <span class="p">(</span><span class="n">$representations</span><span class="p">:</span> <span class="o">[</span><span class="n">_Any</span><span class="o">!]!</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">_entities</span><span class="p">(</span><span class="n">representations</span><span class="p">:</span> <span class="n">$representations</span><span class="p">)</span> <span class="p">{</span>
            <span class="p">...</span> <span class="n">on</span> <span class="n">Movie</span> <span class="p">{</span>
                <span class="n">movieId</span>
                <span class="n">script</span> <span class="p">{</span> <span class="n">title</span> <span class="p">}</span>
        <span class="p">}}}</span>
</code></pre></div>
The <code>representations</code> input is a variable map containing the <code>__typename</code> field set to <code>Movie</code> and <code>movieId</code> set to a value, e.g., <code>12345</code>.</p>
<p>You can now set up a <a href="../../query-execution-testing/">Query Executor</a> test by either manually constructing the query, or you can generate the federated query using the <code>Entities Query Builder API</code> available through <a href="../../java-client/#type-safe-query-api">client code generation</a>.</p>
<p>Here is an example of a test that uses a manually constructed <code>_entities</code> query for <code>Movie</code>:
<div class="highlight"><pre><span></span><code><span class="nd">@Test</span>
    <span class="kt">void</span> <span class="nf">federatedMovieQuery</span><span class="p">()</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="p">{</span>
         <span class="n">String</span> <span class="n">query</span> <span class="o">=</span> <span class="s">&quot;query ($representations: [_Any!]!) {&quot;</span> <span class="o">+</span>
              <span class="s">&quot;_entities(representations: $representations) {&quot;</span> <span class="o">+</span>
                  <span class="s">&quot;... on Movie {&quot;</span> <span class="o">+</span>
                      <span class="s">&quot;movieId &quot;</span> <span class="o">+</span>
                      <span class="s">&quot;script { title }&quot;</span> <span class="o">+</span>
         <span class="s">&quot;}}}&quot;</span><span class="p">;</span>

        <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">variables</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>
        <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">representation</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>
        <span class="n">representation</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;__typename&quot;</span><span class="p">,</span> <span class="s">&quot;Movie&quot;</span><span class="p">);</span>
        <span class="n">representation</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;movieId&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
        <span class="n">variables</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;representations&quot;</span><span class="p">,</span> <span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">representation</span><span class="p">));</span>

        <span class="n">DocumentContext</span> <span class="n">context</span> <span class="o">=</span> <span class="n">queryExecutor</span><span class="p">.</span><span class="na">executeAndGetDocumentContext</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">variables</span><span class="p">);</span>
        <span class="n">GraphQLResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GraphQLResponse</span><span class="p">(</span><span class="n">context</span><span class="p">.</span><span class="na">jsonString</span><span class="p">());</span>
        <span class="n">Movie</span> <span class="n">movie</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="na">extractValueAsObject</span><span class="p">(</span><span class="s">&quot;data._entities[0]&quot;</span><span class="p">,</span> <span class="n">Movie</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
        <span class="n">assertThat</span><span class="p">(</span><span class="n">movie</span><span class="p">.</span><span class="na">getScript</span><span class="p">().</span><span class="na">getTitle</span><span class="p">()).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="s">&quot;Top Secret&quot;</span><span class="p">);</span>
    <span class="p">}</span>
</code></pre></div></p>
<h4 id="using-the-entities-query-builder-api">Using the Entities Query Builder API</h4>
<p>Alternatively, you can generate the federated query by using <a href="../../java-client/#building-federated-queries">EntitiesGraphQLQuery</a> to build the graphql request in combination with the <a href="../../generating-code-from-schema/">code generation</a> plugin to generate the classes needed to use the request builder. 
This provides a convenient type-safe way to build your queries.</p>
<p>To set up code generation to generate the required classes to use for building your queries, follow the instructions <a href="../../java-client/#type-safe-query-api">here</a>.</p>
<p>You will also need to add <code>com.netflix.graphql.dgs:graphql-dgs-client:latest.release</code> dependency to build.gradle.  </p>
<p>Now we can write a test that uses <code>EntitiesGraphQLQuery</code> along with <code>GraphQLQueryRequest</code> and <code>EntitiesProjectionRoot</code> to build the query. Finally, you can also extract the response using <code>GraphQLResponse</code>. </p>
<p>This set up is shown here:
<div class="highlight"><pre><span></span><code><span class="nd">@Test</span>
    <span class="kt">void</span> <span class="nf">federatedMovieQueryAPI</span><span class="p">()</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="p">{</span>
        <span class="c1">// constructs the _entities query with variable $representations containing a </span>
        <span class="c1">// movie representation that represents { __typename: &quot;Movie&quot;  movieId: 12345 }</span>
        <span class="n">EntitiesGraphQLQuery</span> <span class="n">entitiesQuery</span> <span class="o">=</span> <span class="k">new</span> <span class="n">EntitiesGraphQLQuery</span><span class="p">.</span><span class="na">Builder</span><span class="p">()</span>
                    <span class="p">.</span><span class="na">addRepresentationAsVariable</span><span class="p">(</span>
                            <span class="n">MovieRepresentation</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">().</span><span class="na">movieId</span><span class="p">(</span><span class="mi">1122</span><span class="p">).</span><span class="na">build</span><span class="p">()</span>
                    <span class="p">)</span>
                    <span class="p">.</span><span class="na">build</span><span class="p">();</span>
        <span class="c1">// sets up the query and the field selection set using the EntitiesProjectionRoot</span>
        <span class="n">GraphQLQueryRequest</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GraphQLQueryRequest</span><span class="p">(</span>
                    <span class="n">entitiesQuery</span><span class="p">,</span>
                    <span class="k">new</span> <span class="n">EntitiesProjectionRoot</span><span class="p">().</span><span class="na">onMovie</span><span class="p">().</span><span class="na">movieId</span><span class="p">().</span><span class="na">script</span><span class="p">().</span><span class="na">title</span><span class="p">());</span>

        <span class="n">String</span> <span class="n">query</span>  <span class="o">=</span> <span class="n">request</span><span class="p">.</span><span class="na">serialize</span><span class="p">();</span>
        <span class="c1">// pass in the constructed _entities query with the variable map containing representations</span>
        <span class="n">DocumentContext</span> <span class="n">context</span> <span class="o">=</span> <span class="n">queryExecutor</span><span class="p">.</span><span class="na">executeAndGetDocumentContext</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">entitiesQuery</span><span class="p">.</span><span class="na">getVariables</span><span class="p">());</span>

        <span class="n">GraphQLResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GraphQLResponse</span><span class="p">(</span><span class="n">context</span><span class="p">.</span><span class="na">jsonString</span><span class="p">());</span>
        <span class="n">Movie</span> <span class="n">movie</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="na">extractValueAsObject</span><span class="p">(</span><span class="s">&quot;data._entities[0]&quot;</span><span class="p">,</span> <span class="n">Movie</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
        <span class="n">assertThat</span><span class="p">(</span><span class="n">movie</span><span class="p">.</span><span class="na">getScript</span><span class="p">().</span><span class="na">getTitle</span><span class="p">()).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="s">&quot;Top Secret&quot;</span><span class="p">);</span>
    <span class="p">}</span>
</code></pre></div>
Check out this <a href="https://drive.google.com/file/d/1aOrvqAj7CQjRYd2YN4Yxq1ypKccJ_oxE/view?usp=sharing">video</a> for a demo on how to configure and write the above test.</p>
<p><center><iframe src="https://drive.google.com/file/d/1aOrvqAj7CQjRYd2YN4Yxq1ypKccJ_oxE/preview" width="800" height="450"></iframe></center></p>
<p>--8&lt;-- "docs/reference_links"</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../custom-datafetcher-context/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Data Fetching Context
              </div>
            </div>
          </a>
        
        
          <a href="../schema-from-code/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Generating Schema from Code
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.0ac82a11.min.js"></script>
      <script src="../../assets/javascripts/bundle.f81dfb4d.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="../../js/mermaid.min.js"></script>
      
    
  </body>
</html>